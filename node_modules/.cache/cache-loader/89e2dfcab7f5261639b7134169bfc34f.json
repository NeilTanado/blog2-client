{"remainingRequest":"/Users/Neil/Documents/phase-2/blog2-client/node_modules/babel-loader/lib/index.js!/Users/Neil/Documents/phase-2/blog2-client/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/Neil/Documents/phase-2/blog2-client/src/components/Content.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/Neil/Documents/phase-2/blog2-client/src/components/Content.vue","mtime":1530615932680},{"path":"/Users/Neil/Documents/phase-2/blog2-client/node_modules/cache-loader/dist/cjs.js","mtime":1526723056402},{"path":"/Users/Neil/Documents/phase-2/blog2-client/node_modules/babel-loader/lib/index.js","mtime":1526583314000},{"path":"/Users/Neil/Documents/phase-2/blog2-client/node_modules/vue-loader/lib/index.js","mtime":1526676097000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport axios from 'axios';\nimport Vuex from \"vuex\";\nexport default {\n  name: 'context',\n\n  data() {\n    return {\n      articles: []\n    };\n  },\n\n  methods: {\n    createArt: function () {\n      if (!localStorage.getItem('token')) {\n        alert('please login for create an article');\n      } else {\n        this.$router.push('/article');\n      }\n    },\n    callData: function () {\n      let self = this;\n      axios.get('http://localhost:3000/articles/dataarticle').then(value => {\n        value.data.data.forEach(articlesData => {\n          console.log(articlesData);\n          self.articles.unshift(articlesData);\n        });\n      }).catch(err => {\n        console.log(err);\n      });\n    },\n    editData: function (articleUserId, articleId) {\n      if (localStorage.getItem('userId')) {\n        var userId = localStorage.getItem('userId');\n        console.log(articleUserId, userId);\n\n        if (userId === articleUserId) {} else {\n          alert('kamu tidak bisa mengedit article milik orang lain');\n          this.$router.push('/');\n        }\n      } else {\n        alert('please login first to edit');\n        this.$router.push('/');\n      }\n    },\n    deleteArticle: function (articleUserId, articleId) {\n      console.log(articleUserId);\n\n      if (localStorage.getItem('userId')) {\n        var userId = localStorage.getItem('userId');\n        console.log(articleUserId);\n\n        if (userId === articleUserId) {\n          axios.delete('http://localhost:3000/articles/deletearticle/' + articleId).then(value => {\n            for (var i = 0; i < this.articles.length; i++) {\n              if (this.articles[i]._id === articleId) {\n                this.articles.splice(i, 1);\n              }\n            }\n          }).catch(err => {\n            console.log(err);\n          });\n        } else {\n          alert('kamu tidak bisa menghapus article milik orang lain');\n          this.$router.push('/');\n        }\n      }\n    }\n  },\n\n  mounted() {\n    this.callData();\n  }\n\n};",{"version":3,"sources":["Content.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsDA;AACA;AAEA;QAEA;;SACA;;gBAEA,AACA;AAFA;AAGA;;;2BAEA;0CACA;cACA;aACA;0BACA;AACA;AACA;0BACA;iBACA;gBACA,4DACA;gDACA;sBACA;gCACA;AACA;AACA,sBACA;oBACA;AACA;AACA;kDACA;0CACA;0CACA;mCACA;;sCAEA,QACA;gBACA;4BACA;AACA;AACA,aACA;cACA;0BACA;AACA;AACA;uDACA;kBACA;;0CACA;0CACA;oBACA;;sCACA;yEACA,yBACA;2DACA;sDACA;wCACA;AACA;AACA;AACA,0BACA;wBACA;AACA;eACA;gBACA;4BACA;AACA;AACA;AACA,AACA;AA5DA;;YA6DA;SACA;AACA;;AAtEA","file":"Content.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div>\n    <div class=\"valign-wrapper flex-container give-margin\">\n      <a class=\"waves-effect waves-light btn\" @click=\"createArt()\">Create New Article</a>\n    </div>\n    <div class=\"row\" v-for=\"article in articles\">\n      <div class=\"col s12 m12\">\n        <div class=\"card blue-grey darken-1\">\n          <div class=\"card-content white-text\">\n            <div class=\"row\">\n              <div class=\"col\">\n                <span class=\"card-title\" @click=\"\" style=\"cursor: pointer;\">\n                  <b>{{ article.title }}</b>\n                    <router-link :to=\"{ path: '/read', query:{id:article._id,title:article.title,text:article.text,authorId:article.author._id}}\"></router-link>\n                </span>\n              </div>\n              <div class=\"col right\">\n                <div class=\"row\">\n                  <div class=\"col\">\n                    <a style=\"cursor:pointer;\" title=\"Edit this article\" @click=\"editData(article.author._id,article._id)\">\n                      <router-link :to=\"{ path: '/articleEdit', query:{id:article._id,title:article.title,text:article.text}}\">\n                      <i class=\"material-icons small \" style=\"font-size:35px;\">edit</i>\n                    </router-link>\n                    </a>\n                  </div>\n                  <div class=\"col\">\n                    <a style=\"cursor:pointer;\" title=\"Delete this article\" @click=\"deleteArticle(article.author._id,article._id)\">\n                      <i class=\"material-icons small\" style=\"font-size:35px; color:#ef9a9a;\">delete</i>\n                    </a>\n                  </div>\n                </div>\n              </div>\n            </div>\n            <pre style=\"color:#eeeeee; margin: -4% 0 1% -1%;\"> author: {{ article.author.name }} </pre>\n            <br>\n            <article class=\"\">\n              <p class=\"cuttext\">{{ article.text }}</p>\n            </article>\n\n          </div>\n          <div class=\"card-action\">\n            <div class=\"\" style=\"margin: 0 0 0 87%;\" @click=\"readData(article._id)\">\n              <router-link :to=\"{ path: '/read', query:{id:article._id,title:article.title,text:article.text,authorId:article.author._id}}\">\n              <a class=\"btn\">Read More</a>\n            </router-link>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios'\nimport Vuex from \"vuex\";\n\nexport default {\n  name:'context',\n  data(){\n    return{\n      articles:[],\n    }\n  },\n  methods:{\n    createArt:function(){\n      if(!localStorage.getItem('token')){\n        alert('please login for create an article')\n      }else{\n        this.$router.push('/article')\n      }\n    },\n    callData:function(){\n      let self = this\n      axios.get('http://localhost:3000/articles/dataarticle')\n      .then((value) => {\n        value.data.data.forEach(articlesData=>{\n          console.log(articlesData);\n          self.articles.unshift(articlesData)\n        })\n      })\n      .catch((err) => {\n        console.log(err);\n      })\n    },\n    editData:function(articleUserId,articleId){\n      if(localStorage.getItem('userId')){\n        var userId = localStorage.getItem('userId')\n        console.log(articleUserId,userId);\n        if(userId === articleUserId){\n\n        }else{\n          alert('kamu tidak bisa mengedit article milik orang lain')\n          this.$router.push('/')\n        }\n      }\n      else{\n        alert('please login first to edit')\n        this.$router.push('/')\n      }\n    },\n    deleteArticle:function(articleUserId,articleId){\n      console.log(articleUserId);\n      if(localStorage.getItem('userId')){\n        var userId = localStorage.getItem('userId')\n        console.log(articleUserId);\n        if(userId === articleUserId){\n          axios.delete('http://localhost:3000/articles/deletearticle/'+articleId)\n          .then((value) => {\n            for(var i = 0 ; i < this.articles.length ; i++){\n              if(this.articles[i]._id === articleId){\n                this.articles.splice(i,1)\n              }\n            }\n          })\n          .catch((err) => {\n            console.log(err);\n          })\n        }else{\n          alert('kamu tidak bisa menghapus article milik orang lain')\n          this.$router.push('/')\n        }\n      }\n    }\n  },\n  mounted(){\n    this.callData()\n  }\n}\n</script>\n\n<style scoped>\n  .flex-container{\n    justify-content : center;\n    display: flex;\n  }\n  .give-margin {\n    margin-top: 1.5em;\n    margin-bottom: 1.5em;\n  }\n\n  .card-content{\n    border:1px solid black;\n  }\n  .floating{\n    float:right;\n  }\n  .cuttext {\n    white-space: nowrap;\n    width: 1000px;\n    overflow: hidden;\n    text-overflow: \"----\";\n  }\n</style>\n"]}]}